{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}DevCheatHub{% endblock %}</title>

    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/dracula.min.css">

    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">
</head>

<body class="{% block body_class %}{% endblock %}">

    <div id="particles-js"></div>

    {% block header %}
        <header class="main-header">
            <nav class="header-nav container">
                <a href="{% url 'category_list' %}" class="logo">DevCheatHub</a>

                <div class="nav-search">
                    <form method="get" action="{% url 'search_results' %}">
                        <input type="search" name="q" placeholder="Search cheatsheets...">
                        <button type="submit" aria-label="Search">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                        </button>
                    </form>
                </div>

                <button class="nav-toggle" aria-label="toggle navigation">
                    <span class="hamburger"></span>
                </button>

                <div class="nav-menu">
                    <div class="nav-center">
                        <a href="{% url 'category_list' %}">Browse</a>
                        <a href="{% url 'contribute' %}">Contribute</a>
                        <a href="{% url 'about' %}">About</a>
                    </div>
                    <div class="nav-auth">
                        {% if user.is_authenticated %}
                            <a href="{% url 'profile' %}" class="welcome-text">Hello, {{ user.username }}</a>
                            <form action="{% url 'logout' %}" method="post" style="display: inline;">
                                {% csrf_token %}
                                <button type="submit" class="btn btn-secondary">Logout</button>
                            </form>
                        {% else %}
                            <a href="{% url 'login' %}" class="btn btn-secondary">Login</a>
                            <a href="{% url 'register' %}" class="btn btn-primary">Sign Up</a>
                        {% endif %}
                    </div>
                </div>
            </nav>
        </header>
    {% endblock header %}

    {% if messages %}
        <div class="container" style="padding-top: 0; padding-bottom: 0;">
            {% for message in messages %}
                <div class="message {{ message.tags }}">{{ message }}</div>
            {% endfor %}
        </div>
    {% endif %}

    <main id="page-content">
        {% block content %}
        {% endblock %}
    </main>

    <footer class="site-footer">
        <div class="container footer-content-simple">
            <p class="footer-copyright">&copy; {% now "Y" %} DevCheatHub. Released under the MIT License.</p>
            <div class="footer-socials">
                <a href="https://github.com/sasidharakurathi/devcheathub" target="_blank" aria-label="GitHub">
                    <svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
                </a>
            </div>
        </div>
    </footer>

    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "tm90oy2jjs");
    </script>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/javascript/javascript.min.js"></script>


    <script src="{% static 'js/app.js' %}"></script>
    <script src="{% static 'js/animations.js' %}"></script>
    <script src="{% static 'js/main.js' %}"></script>

    <script>hljs.highlightAll();</script>

</body>
</html>